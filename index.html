<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>20th Century Fox Animation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Stream all Warner Bros. Animation movies including DC Universe animated films and Mortal Kombat Legends.">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to bottom, #000000, #1a1a2e);
      min-height: 100vh;
      transition: background 0.3s ease;
    }
    body.light-mode {
      background: linear-gradient(to bottom, #f3f4f6, #e5e7eb);
      color: #111827;
    }
    .episode-card:hover .play-icon {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1.1);
    }
    .gradient-text {
      background: linear-gradient(90deg, #0077ff 0%, #00ccff 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .modal-enter {
      animation: modalEnter 0.3s ease-out forwards;
    }
    @keyframes modalEnter {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    .showcase-header {
      background: linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%), 
                  url('https://m.media-amazon.com/images/M/MV5BMTY5NjI2MjQxMl5BMl5BanBnXkFtZTgwMDA2MzM0NzE@._V1_.jpg') no-repeat center center;
      background-size: cover;
      height: 70vh;
      min-height: 500px;
      display: flex;
      flex-direction: column;
    }
    .dc-blue {
      background-color: #0077ff;
    }
    .dc-blue:hover {
      background-color: #0066dd;
    }
    .search-container {
      transition: all 0.3s ease;
    }
    .search-container.focused {
      box-shadow: 0 0 0 3px rgba(0, 119, 255, 0.3);
    }
    .filter-btn {
      border: 1px solid #374151;
      border-radius: 9999px;
      padding: 0.5rem 1rem;
      font-size: 0.875rem;
      transition: all 0.2s ease;
      background-color: #1f2937;
      color: #9ca3af;
    }
    .filter-btn:hover {
      background-color: #374151;
      color: white;
    }
    .filter-btn.active {
      background-color: #0077ff;
      color: white;
      border-color: #0077ff;
    }
    .light-mode .filter-btn {
      background-color: #e5e7eb;
      color: #4b5563;
      border-color: #d1d5db;
    }
    .light-mode .filter-btn:hover {
      background-color: #d1d5db;
    }
    .light-mode .filter-btn.active {
      background-color: #0077ff;
      color: white;
    }
    .light-mode .episode-card {
      background-color: white;
      color: #111827;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .light-mode .text-gray-300 {
      color: #4b5563;
    }
    .light-mode .text-gray-400 {
      color: #6b7280;
    }
    .light-mode .bg-gray-900 {
      background-color: #f3f4f6;
    }
    .light-mode .bg-gray-800 {
      background-color: #e5e7eb;
    }
    .light-mode .border-gray-800 {
      border-color: #d1d5db;
    }
    .glow-text {
      text-shadow: 0 0 8px rgba(0, 119, 255, 0.6);
    }
    .category-badge {
      display: inline-block;
      padding: 0.25rem 0.5rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
    }
    .category-dc {
      background-color: rgba(0, 119, 255, 0.2);
      color: #0077ff;
    }
    .category-batman {
      background-color: rgba(0, 0, 0, 0.2);
      color: #000000;
    }
    .category-superman {
      background-color: rgba(255, 0, 0, 0.2);
      color: #ff0000;
    }
    .category-justice {
      background-color: rgba(75, 85, 99, 0.2);
      color: #4b5563;
    }
    .category-other {
      background-color: rgba(156, 163, 175, 0.2);
      color: #9ca3af;
    }
    .play-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      opacity: 0;
      transition: all 0.3s ease;
      background-color: rgba(0, 119, 255, 0.8);
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 24px;
    }
    #player-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 100;
      display: none;
    }
    #player-iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    #close-player {
      position: absolute;
      top: 20px;
      right: 20px;
      color: white;
      font-size: 24px;
      cursor: pointer;
      z-index: 101;
    }
  </style>
</head>
<body class="bg-black text-gray-100 min-h-screen">
    <!-- Header -->
    <header class="bg-gradient-to-r from-black to-gray-900 py-6 px-4 shadow-lg border-b border-yellow-500">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <div class="flex items-center mb-4 md:mb-0">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Warner_Bros_logo.svg/1965px-Warner_Bros_logo.svg.png" 
                     alt="Warner Bros. Logo" 
                     class="h-12 mr-4">
                <h1 class="text-3xl md:text-4xl font-bold text-yellow-400 glow-text">
                    Animation
                </h1>
            </div>
            <div class="flex items-center space-x-4">
              <button id="theme-toggle" class="p-2 rounded-full bg-gray-800 text-gray-300 hover:text-white transition">
                <i class="fas fa-moon"></i>
              </button>
              <div class="search-container relative bg-gray-800 rounded-full px-4 py-2 flex items-center">
                <i class="fas fa-search text-gray-400 mr-2"></i>
                <input id="search-input" type="text" placeholder="Search movies..." class="bg-transparent border-none focus:outline-none text-white w-40 md:w-64">
                <button id="clear-search" class="ml-2 text-gray-400 hover:text-white hidden">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
      <!-- Filters -->
      <div class="mb-8">
        <div class="flex flex-wrap gap-2 mb-4">
          <button class="filter-btn active" data-filter="all">All</button>
          <button class="filter-btn" data-filter="dc">DC Universe</button>
          <button class="filter-btn" data-filter="batman">Batman</button>
          <button class="filter-btn" data-filter="superman">Superman</button>
          <button class="filter-btn" data-filter="justice">Justice League</button>
          <button class="filter-btn" data-filter="other">Other</button>
        </div>
        <div class="flex items-center">
          <span class="text-gray-400 mr-2">Sort by:</span>
          <select id="sort-select" class="bg-gray-800 text-white rounded px-3 py-1 border border-gray-700">
            <option value="year-desc">Newest First</option>
            <option value="year-asc">Oldest First</option>
            <option value="rating-desc">Highest Rated</option>
            <option value="rating-asc">Lowest Rated</option>
            <option value="title-asc">A-Z</option>
            <option value="title-desc">Z-A</option>
          </select>
        </div>
      </div>
      
      <div id="episodes" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>
      
      <div id="no-results" class="text-center py-12 hidden">
        <i class="fas fa-film text-5xl text-gray-500 mb-4"></i>
        <h3 class="text-2xl font-bold text-gray-400">No movies found</h3>
        <p class="text-gray-500">Try adjusting your search or filters</p>
      </div>
    </main>

  <!-- Modal for MP4 videos -->
  <div id="playback-modal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-90">
    <div class="relative w-full max-w-4xl bg-gray-900 rounded-xl overflow-hidden modal-enter">
      <button id="close-modal" class="absolute top-4 right-4 z-50 text-white hover:text-blue-400 text-2xl transition">
        <i class="fas fa-times"></i>
      </button>
      <div class="aspect-w-16 aspect-h-9">
        <video id="modal-video" class="w-full" controls poster="https://m.media-amazon.com/images/M/MV5BMTY5NjI2MjQxMl5BMl5BanBnXkFtZTgwMDA2MzM0NzE@._V1_.jpg"></video>
      </div>
      <div class="p-6">
        <div class="flex justify-between items-start mb-4">
          <div>
            <h3 id="modal-title" class="text-2xl font-bold mb-1 text-white"></h3>
            <div class="text-gray-400 text-sm">
              <span id="modal-category" class="category-badge px-2 py-0.5 rounded-full text-xs"></span> • <span id="episode-num"></span> • <span id="modal-runtime"></span> • <span class="text-blue-400" id="modal-rating"></span>
            </div>
          </div>
          <div class="flex space-x-3">
            <button class="text-gray-400 hover:text-white transition">
              <i class="fas fa-share-alt"></i>
            </button>
            <button class="text-gray-400 hover:text-white transition">
              <i class="fas fa-ellipsis-h"></i>
            </button>
          </div>
        </div>
        <p id="modal-description" class="text-gray-300 mb-6"></p>
        <div class="flex space-x-4">
          <button id="play-button" class="dc-blue hover:bg-blue-600 text-white font-semibold py-3 px-8 rounded-full flex items-center transition transform hover:scale-105">
            <i class="fas fa-play mr-2"></i> Play
          </button>
          <button class="bg-gray-800 hover:bg-gray-700 text-white font-semibold py-3 px-8 rounded-full flex items-center transition">
            <i class="fas fa-plus mr-2"></i> Watchlist
          </button>
          <button class="bg-gray-800 hover:bg-gray-700 text-white font-semibold py-3 px-4 rounded-full transition">
            <i class="fas fa-thumbs-up"></i>
          </button>
        </div>
        <div class="mt-6 pt-6 border-t border-gray-800">
          <h4 class="text-sm font-semibold text-gray-400 mb-2">Starring</h4>
          <p class="text-gray-300 text-sm" id="modal-cast"></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Player container for non-MP4 videos -->
  <div id="player-container">
    <div id="close-player" class="text-white hover:text-blue-400">
      <i class="fas fa-times"></i>
    </div>
    <iframe id="player-iframe" src="" allowfullscreen></iframe>
  </div>

  <footer class="bg-gray-900 py-12">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div class="mb-6 md:mb-0">
          <div class="flex items-center space-x-2 mb-4">
            <div class="w-10 h-10 dc-blue rounded-full flex items-center justify-center">
              <i class="fas fa-play text-white"></i>
            </div>
            <h1 class="text-xl font-bold text-white">WB<span class="text-blue-400">Animation</span></h1>
          </div>
          <p class="text-gray-400 text-sm">© 2024 Warner Bros. Animation</p>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
          <div>
            <h3 class="text-gray-300 font-semibold mb-3">Navigation</h3>
            <ul class="space-y-2">
              <li><a href="#" class="text-gray-400 hover:text-blue-400 text-sm transition">Home</a></li>
              <li><a href="#" class="text-gray-400 hover:text-blue-400 text-sm transition">Movies</a></li>
              <li><a href="#" class="text-gray-400 hover:text-blue-400 text-sm transition">Characters</a></li>
              <li><a href="#" class="text-gray-400 hover:text-blue-400 text-sm transition">Gallery</a></li>
            </ul>
          </div>
          <div>
            <h3 class="text-gray-300 font-semibold mb-3">Legal</h3>
            <ul class="space-y-2">
              <li><a href="#" class="text-gray-400 hover:text-blue-400 text-sm transition">Terms</a></li>
              <li><a href="#" class="text-gray-400 hover:text-blue-400 text-sm transition">Privacy</a></li>
              <li><a href="#" class="text-gray-400 hover:text-blue-400 text-sm transition">Cookies</a></li>
            </ul>
          </div>
          <div>
            <h3 class="text-gray-300 font-semibold mb-3">Social</h3>
            <div class="flex space-x-4">
              <a href="#" class="text-gray-400 hover:text-blue-400 transition"><i class="fab fa-twitter"></i></a>
              <a href="#" class="text-gray-400 hover:text-blue-400 transition"><i class="fab fa-instagram"></i></a>
              <a href="#" class="text-gray-400 hover:text-blue-400 transition"><i class="fab fa-facebook"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script>
    const movies = [
      { 
        title: "Ice Age", 
        year: 2002,
        category: "other",
        video: "https://macdn.hakunaymatata.com/resource/6985b0dd57c987fd837a96a2dc227e21.mp4?Expires=1750242787&Signature=yZouNpCE6SRZxJeaXoLSY2iSUg92CjuR9WRhtfToq7liD0ROFReSgQQNgRhLBCFajpv9aGHwBy8LA3rODs2YbbZJHvioL4kzWnOLNzxG2C73LIRp0y~t~l2~ipExfKUiIHKMrdkMC0UVbfX2Og89o0e5OgZB6Ip3HNz7~lQoJcPGy4RMw6bHRcrdFfVNKebvuluI8GbbSFbL11Fr8XpibM~sdqUA3Iuqj9JPwm81UqXHRRrsIfxqVUyNogTjzLg9JUs0KifbTne4lr8Vn80M8I404CsERmHG1IlyR~uiZhyQQZsqwujDyKpkwSBGcbnk2GIhbxIkC2zKD9y8Oq1r6g__&Key-Pair-Id=KMHN1LQ1HEUPL", 
        image: "https://f.woowoowoowoo.net/resize/250x400/c6/59/c6591491f53c848d868589f3844bd965/c6591491f53c848d868589f3844bd965.jpg",
        runtime: "120 min",
        rating: "8.5/10",
        description: "An epic animated fantasy film set in Middle-earth, exploring the history of Rohan and Helm's Deep.",
        director: "Kenji Kamiyama",
        cast: "Brian Cox, Miranda Otto, Gaia Wise"
      },
      { 
        title: "Ice Age: The Meltdown", 
        year: 2006,
        category: "dc",
        video: "https://sj3l.ghwillawkni.sbs:443/v4/qu/kf1fp/index-f2-v1-a1.txt", 
        image: "https://f.woowoowoowoo.net/resize/250x400/2b/24/2b242f24f3ac4fe0cc3b3c293d077fcc/2b242f24f3ac4fe0cc3b3c293d077fcc.jpg",
        runtime: "90 min",
        rating: "8.2/10",
        description: "The first chapter of the animated Watchmen adaptation, bringing the iconic graphic novel to life.",
        director: "Zack Snyder",
        cast: "Jeffrey Dean Morgan, Carla Gugino, Jeremy Irons"
      },
      { 
        title: "Ice Age: Dawn of the Dinosaurs", 
        year: 2009,
        category: "dc",
        video: "https://macdn.hakunaymatata.com/resource/6a5d569c1fd393adbd76ef9ca034023d.mp4?Expires=1750245289&Signature=p1ALjCkJc5Kn00De6H-QdkhhjEixaTlWmcvrNRIm432bUmSHWifjHRYaR-tQAnmVILdbOGIBHwns9XvePCHZTJRH~w0C2onFJ2b8fxYg9gpZxMyT66u03XXm6I1C1yRrNWFzZ401A-aYVucCoZqc9ROef0jfCcRKVoMH53g515xIVYIsKzh96EXPSHzdDmREz6wSIQbX05d5BDoeDE0Os~vcAgp~KiuSm0ufDv2o2~0nbtrKatujKyHw~RWxtFa~kIRrC1grr9LPawVLKgpQd1vY~f-saUvryvlRqjhVRkAfmxpr2IRuawhJ0p~Vorq3Jh3IyQ5Dxru6~31bJKV-Dg__&Key-Pair-Id=KMHN1LQ1HEUPL", 
        image: "https://f.woowoowoowoo.net/resize/250x400/4f/da/4fda35201fa5a6c247a5813fa66a7c27/4fda35201fa5a6c247a5813fa66a7c27.jpg",
        runtime: "89 min",
        rating: "7.2/10",
        description: "In an alternate 1985 America, a group of retired superheroes investigate a conspiracy after one of their own is murdered.",
        director: "Vinton HeuckBrandon & Vietti",
        cast: "Jeffrey Dean Morgan, Carla Gugino, Jeremy Irons"
      },
      { 
        title: "Ice Age: Continental Drift", 
        year: 2024,
        category: "justice",
        video: "https://sh9f.yevettesha.sbs:443/v4/hz/ualna/index-f1-v1-a1.txt", 
        image: "https://f.woowoowoowoo.net/resize/250x400/71/96/719613f39bd4da24aee94ce64e77013a/719613f39bd4da24aee94ce64e77013a.jpg",
        runtime: "85 min",
        rating: "8.7/10",
        description: "The Justice League faces their greatest challenge as the multiverse begins to collapse.",
        director: "Jeff Wamester",
        cast: "Darren Criss, Jensen Ackles, Stana Katic"
      },
      { 
        title: "Ice Age: Collision Course", 
        year: 2016,
        category: "batman",
        video: "https://macdn.hakunaymatata.com/resource/2dc4b8b25b7717a717d4e16374107269.mp4?Expires=1750246659&Signature=Heuf5g~z2h6SyUeOJyvSsmtcy1bXayQ2NpS8hAkaFca6V5nEeu8dhmPYe3UO0NIX1bWwx3w2jXTJYdzlxfB3FIdA0u27St3t93Rr2g8gcU7rp3tzWguThEP0Xym~uquqbDTc3eOCQVzWzY~B7~OEJiP7RHuIIxaMv0ckxKNMHUlTC4UdNtd1N~Lj4Z5KQFuvPtj8I3Ea1inPvXdebzGBAQs0Ei-tZu5MgageLcD59JHKZPjgC~Rhkgspg2pXDejfyGERuHFlcPm3Ez33y6PMrEG-tASxKwI2smi1FHlmOg4zewwUcacWV8YN6IDlC2ECPwac~ZGlk2tfquy9-wEXOg__&Key-Pair-Id=KMHN1LQ1HEUPL", 
        image: "https://f.woowoowoowoo.net/resize/250x400/5b/6a/5b6a7ee08efe0d91bcd7a9d4b7f6c61b/5b6a7ee08efe0d91bcd7a9d4b7f6c61b.jpg",
        runtime: "76 min",
        rating: "8.4/10",
        description: "Bruce Wayne returns as Batman to save Gotham from a new wave of crime and corruption.",
        director: "Jay Oliva",
        cast: "Peter Weller, Ariel Winter, David Selby"
      },
      { 
        title: "Ice Age: A Mammoth Christmas", 
        year: 2011,
        category: "batman",
        video: "https://example.com/video5.mp4", 
        image: "https://f.woowoowoowoo.net/resize/250x400/4c/fe/4cfe58a2acbabf539cbce83758e2baea/4cfe58a2acbabf539cbce83758e2baea.jpg",
        runtime: "75 min",
        rating: "8.1/10",
        description: "Batman faces his greatest failure when a mysterious vigilante known as the Red Hood appears in Gotham.",
        director: "Brandon Vietti",
        cast: "Bruce Greenwood, Jensen Ackles, John DiMaggio"
      },
      { 
        title: "Ice Age: The Great Egg-Scapade", 
        year: 2016,
        category: "justice",
        video: "https://example.com/video6.mp4", 
        image: "https://f.woowoowoowoo.net/resize/250x400/07/9f/079ffdf4f8be5d5f2db2e2eb83d6f97e/079ffdf4f8be5d5f2db2e2eb83d6f97e.jpg",
        runtime: "81 min",
        rating: "8.3/10",
        description: "The Flash creates a fractured reality where the Justice League never formed and a war rages between Aquaman and Wonder Woman.",
        director: "Jay Oliva",
        cast: "Justin Chambers, Kevin McKidd, C. Thomas Howell"
      },
      { 
        title: "Justice League: Doom", 
        year: 2012,
        category: "justice",
        video: "https://example.com/video6.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BYmIwNjg5NjItZjRmZi00MDVlLThhYmQtNTBmNTRiY2I5Nzg1XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg",
        runtime: "77 min",
        rating: "7.4/10",
        description: "Vandal Savage uses information from Batman's secret files in a plot to wipe out the Justice League.",
        director: "Lauren Montgomery",
        cast: "Kevin Conroy, Tim Daly, Susan Eisenberg"
      },
      { 
        title: "Batman: The Long Halloween, Part One", 
        year: 2021,
        category: "batman",
        video: "https://example.com/video7.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BN2Y1OGU1ZDktYzVhNy00MzQ3LTg1OTMtMmVjMWQzZDAyMDQ0XkEyXkFqcGdeQXVyMTEyMjM2NDc2._V1_.jpg",
        runtime: "85 min",
        rating: "8.0/10",
        description: "Batman, Captain Gordon and District Attorney Harvey Dent team up to bring down the Falcone crime family.",
        director: "Chris Palmer",
        cast: "Jensen Ackles, Josh Duhamel, Naya Rivera"
      },
      { 
        title: "Batman: The Long Halloween, Part Two", 
        year: 2021,
        category: "batman",
        video: "https://example.com/video8.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BZWI1YzU1YzUtYTQ5ZS00YzI0LTk0YjEtN2JlOTI0MDg4ZWI5XkEyXkFqcGdeQXVyMTEyMjM2NDc2._V1_.jpg",
        runtime: "87 min",
        rating: "8.1/10",
        description: "The conclusion of the Long Halloween mystery as Batman races against time to stop Holiday.",
        director: "Chris Palmer",
        cast: "Jensen Ackles, Josh Duhamel, Naya Rivera"
      },
      { 
        title: "Superman: Man of Tomorrow", 
        year: 2020,
        category: "superman",
        video: "https://example.com/video9.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BNzY3ZDU0YTktYjVjMS00YmM1LThkY2ItOTQ4Y2ExOTFlMDAxXkEyXkFqcGdeQXVyMTEyMjM2NDc2._V1_.jpg",
        runtime: "86 min",
        rating: "7.6/10",
        description: "Clark Kent takes his first steps toward becoming the legendary Man of Steel in this thrilling origin story.",
        director: "Chris Palmer",
        cast: "Darren Criss, Zachary Quinto, Alexandra Daddario"
      },
      { 
        title: "Superman: Red Son", 
        year: 2020,
        category: "superman",
        video: "https://example.com/video10.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BNzRmN2U1YzItYjQ1Yi00YTVlLWI5ODEtYzIyZTU5MGY5YzBlXkEyXkFqcGdeQXVyMTEyMjM2NDc2._V1_.jpg",
        runtime: "84 min",
        rating: "7.8/10",
        description: "An alternate history of Superman where his ship lands in Soviet Russia instead of Kansas.",
        director: "Sam Liu",
        cast: "Jason Isaacs, Amy Acker, Diedrich Bader"
      },
      { 
        title: "Justice League Dark: Apokolips War", 
        year: 2020,
        category: "justice",
        video: "https://example.com/video11.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BNzQ2OTk1OTEtNWE0ZS00MWEwLWJhYjQtYjg1NGY0NWNjZDNmXkEyXkFqcGdeQXVyMTEyMjM2NDc2._V1_.jpg",
        runtime: "90 min",
        rating: "8.3/10",
        description: "The Justice League leads a last stand against Darkseid in this epic conclusion to the DCAMU.",
        director: "Matt Peters",
        cast: "Jerry O'Connell, Taissa Farmiga, Rosario Dawson"
      },
      { 
        title: "Batman: Hush", 
        year: 2019,
        category: "batman",
        video: "https://example.com/video12.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BNWY1N2I1NmItMDY3MS00NzFhLTk0YzQtYjQ3OWYwZjc4YjY1XkEyXkFqcGdeQXVyMTEyMjM2NDc2._V1_.jpg",
        runtime: "82 min",
        rating: "7.5/10",
        description: "Batman faces a mysterious villain known as Hush who seems to know all of his secrets.",
        director: "Justin Copeland",
        cast: "Jason O'Mara, Jennifer Morrison, Geoffrey Arend"
      },
      { 
        title: "Reign of the Supermen", 
        year: 2019,
        category: "superman",
        video: "https://example.com/video13.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BNzJhMDFkMjQtZDIyNy00YjUwLTk0NTctYzUxN2Q5YzllZDFkXkEyXkFqcGdeQXVyMTEyMjM2NDc2._V1_.jpg",
        runtime: "87 min",
        rating: "7.7/10",
        description: "In the aftermath of Superman's death, four new Supermen emerge to claim his legacy.",
        director: "Sam Liu",
        cast: "Jerry O'Connell, Rebecca Romijn, Rainn Wilson"
      },
      
      { 
        title: "Smallfoot", 
        year: 2018,
        video: "https://example.com/video57.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BNzU5MjA0OTYzNF5BMl5BanBnXkFtZTgwOTQ1OTIyNDM@._V1_.jpg",
        runtime: "96 min",
        rating: "6.6/10",
        description: "A Yeti is convinced that the elusive creatures known as humans really do exist.",
        director: "Karey Kirkpatrick",
        cast: "Channing Tatum, James Corden, Zendaya"
      },
      { 
        title: "Storks", 
        year: 2016,
        video: "https://example.com/video58.mp4", 
        image: "https://m.media-amazon.com/images/M/MV5BNzU5MjA0OTYzNF5BMl5BanBnXkFtZTgwOTQ1OTIyNDM@._V1_.jpg",
        runtime: "89 min",
        rating: "6.8/10",
        description: "Storks have moved on from delivering babies to packages, but an accidental order changes everything.",
        director: "Nicholas Stoller",
        cast: "Andy Samberg, Katie Crown, Kelsey Grammer"
      }
    ];

    // DOM Elements
    const episodesContainer = document.getElementById('episodes');
    const searchInput = document.getElementById('search-input');
    const clearSearch = document.getElementById('clear-search');
    const filterButtons = document.querySelectorAll('.filter-btn');
    const sortSelect = document.getElementById('sort-select');
    const noResults = document.getElementById('no-results');
    const themeToggle = document.getElementById('theme-toggle');
    const searchContainer = document.querySelector('.search-container');
    const playbackModal = document.getElementById('playback-modal');
    const closeModal = document.getElementById('close-modal');
    const modalVideo = document.getElementById('modal-video');
    const modalTitle = document.getElementById('modal-title');
    const modalCategory = document.getElementById('modal-category');
    const modalRuntime = document.getElementById('modal-runtime');
    const modalRating = document.getElementById('modal-rating');
    const modalDescription = document.getElementById('modal-description');
    const modalCast = document.getElementById('modal-cast');
    const playButton = document.getElementById('play-button');
    const playerContainer = document.getElementById('player-container');
    const playerIframe = document.getElementById('player-iframe');
    const closePlayer = document.getElementById('close-player');

    // Current filter state
    let currentFilter = 'all';
    let currentSearch = '';
    let currentSort = 'year-desc';

    // Initialize the page
    function init() {
      renderMovies();
      setupEventListeners();
    }

    // Render movies based on current filters and search
    function renderMovies() {
      episodesContainer.innerHTML = '';
      
      let filteredMovies = [...movies];
      
      // Apply search filter
      if (currentSearch) {
        filteredMovies = filteredMovies.filter(movie => 
          movie.title.toLowerCase().includes(currentSearch.toLowerCase())
        );
      }
      
      // Apply category filter
      if (currentFilter !== 'all') {
        filteredMovies = filteredMovies.filter(movie => 
          movie.category === currentFilter
        );
      }
      
      // Apply sorting
      filteredMovies.sort((a, b) => {
        switch(currentSort) {
          case 'year-desc':
            return b.year - a.year;
          case 'year-asc':
            return a.year - b.year;
          case 'rating-desc':
            return parseFloat(b.rating) - parseFloat(a.rating);
          case 'rating-asc':
            return parseFloat(a.rating) - parseFloat(b.rating);
          case 'title-asc':
            return a.title.localeCompare(b.title);
          case 'title-desc':
            return b.title.localeCompare(a.title);
          default:
            return 0;
        }
      });
      
      // Display no results message if no movies match filters
      if (filteredMovies.length === 0) {
        noResults.classList.remove('hidden');
      } else {
        noResults.classList.add('hidden');
        filteredMovies.forEach(movie => {
          const movieElement = createMovieElement(movie);
          episodesContainer.appendChild(movieElement);
        });
      }
    }

    // Create movie card element
    function createMovieElement(movie) {
      const movieElement = document.createElement('div');
      movieElement.className = 'episode-card bg-gray-800 rounded-xl overflow-hidden transition transform hover:scale-105 hover:shadow-lg relative';
      
      // Determine category badge class
      let categoryClass = '';
      switch(movie.category) {
        case 'dc':
          categoryClass = 'category-dc';
          break;
        case 'batman':
          categoryClass = 'category-batman';
          break;
        case 'superman':
          categoryClass = 'category-superman';
          break;
        case 'justice':
          categoryClass = 'category-justice';
          break;
        default:
          categoryClass = 'category-other';
      }
      
      movieElement.innerHTML = `
        <div class="relative">
          <img src="${movie.image}" alt="${movie.title}" class="w-full h-64 object-cover">
          <div class="play-icon">
            <i class="fas fa-play"></i>
          </div>
        </div>
        <div class="p-4">
          <div class="flex justify-between items-start mb-2">
            <h3 class="font-bold text-lg truncate">${movie.title}</h3>
            <span class="text-blue-400 text-sm font-semibold">${movie.rating}</span>
          </div>
          <div class="flex justify-between items-center text-sm text-gray-400 mb-3">
            <span>${movie.year}</span>
            <span>${movie.runtime}</span>
          </div>
          <div class="flex justify-between items-center">
            <span class="category-badge ${categoryClass}">${getCategoryName(movie.category)}</span>
            <button class="text-gray-400 hover:text-white transition">
              <i class="fas fa-ellipsis-h"></i>
            </button>
          </div>
        </div>
      `;
      
      // Add click event to play video
      movieElement.addEventListener('click', (e) => {
        // Don't trigger if clicking on ellipsis button
        if (!e.target.closest('button')) {
          const ext = movie.video.split('.').pop().split('?')[0];
          if (ext === 'mp4') {
            openModal(movie);
          } else {
            // For .txt and .m3u8 links, open in player.html within the page
            openPlayer(movie);
          }
        }
      });
      
      return movieElement;
    }

    // Open player for non-MP4 videos
    function openPlayer(movie) {
      playerIframe.src = `player.html?video=${encodeURIComponent(movie.video)}&title=${encodeURIComponent(movie.title)}`;
      playerContainer.style.display = 'block';
      document.body.style.overflow = 'hidden';
    }

    // Close player
    function closePlayerHandler() {
      playerContainer.style.display = 'none';
      playerIframe.src = '';
      document.body.style.overflow = '';
    }

    // Get display name for category
    function getCategoryName(category) {
      switch(category) {
        case 'dc': return 'DC';
        case 'batman': return 'Batman';
        case 'superman': return 'Superman';
        case 'justice': return 'Justice League';
        default: return 'Other';
      }
    }

    // Open modal with movie details
    function openModal(movie) {
      modalTitle.textContent = movie.title;
      modalRuntime.textContent = movie.runtime;
      modalRating.textContent = movie.rating;
      modalDescription.textContent = movie.description;
      modalCast.textContent = movie.cast;
      
      // Set category badge
      modalCategory.className = 'category-badge px-2 py-0.5 rounded-full text-xs';
      switch(movie.category) {
        case 'dc':
          modalCategory.classList.add('category-dc');
          break;
        case 'batman':
          modalCategory.classList.add('category-batman');
          break;
        case 'superman':
          modalCategory.classList.add('category-superman');
          break;
        case 'justice':
          modalCategory.classList.add('category-justice');
          break;
        default:
          modalCategory.classList.add('category-other');
      }
      modalCategory.textContent = getCategoryName(movie.category);
      
      // Set video source
      modalVideo.src = movie.video;
      modalVideo.poster = movie.image;
      
      // Show modal
      playbackModal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    // Close modal
    function closePlaybackModal() {
      playbackModal.classList.add('hidden');
      document.body.style.overflow = '';
      modalVideo.pause();
    }

    // Setup event listeners
    function setupEventListeners() {
      // Search input
      searchInput.addEventListener('input', (e) => {
        currentSearch = e.target.value;
        if (currentSearch) {
          clearSearch.classList.remove('hidden');
        } else {
          clearSearch.classList.add('hidden');
        }
        renderMovies();
      });
      
      // Clear search
      clearSearch.addEventListener('click', () => {
        searchInput.value = '';
        currentSearch = '';
        clearSearch.classList.add('hidden');
        renderMovies();
      });
      
      // Filter buttons
      filterButtons.forEach(button => {
        button.addEventListener('click', () => {
          filterButtons.forEach(btn => btn.classList.remove('active'));
          button.classList.add('active');
          currentFilter = button.dataset.filter;
          renderMovies();
        });
      });
      
      // Sort select
      sortSelect.addEventListener('change', (e) => {
        currentSort = e.target.value;
        renderMovies();
      });
      
      // Theme toggle
      themeToggle.addEventListener('click', () => {
        document.body.classList.toggle('light-mode');
        if (document.body.classList.contains('light-mode')) {
          themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        } else {
          themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
        }
      });
      
      // Search container focus
      searchInput.addEventListener('focus', () => {
        searchContainer.classList.add('focused');
      });
      
      searchInput.addEventListener('blur', () => {
        searchContainer.classList.remove('focused');
      });
      
      // Modal close
      closeModal.addEventListener('click', closePlaybackModal);
      playbackModal.addEventListener('click', (e) => {
        if (e.target === playbackModal) {
          closePlaybackModal();
        }
      });
      
      // Player close
      closePlayer.addEventListener('click', closePlayerHandler);
      playerContainer.addEventListener('click', (e) => {
        if (e.target === playerContainer) {
          closePlayerHandler();
        }
      });
      
      // Play button in modal
      playButton.addEventListener('click', () => {
        if (modalVideo.paused) {
          modalVideo.play();
          playButton.innerHTML = '<i class="fas fa-pause mr-2"></i> Pause';
        } else {
          modalVideo.pause();
          playButton.innerHTML = '<i class="fas fa-play mr-2"></i> Play';
        }
      });
      
      // Video ended event
      modalVideo.addEventListener('ended', () => {
        playButton.innerHTML = '<i class="fas fa-play mr-2"></i> Play';
      });
    }

    // Initialize the app
    init();
  </script>
</body>
</html>
